# LeetCode 8. String to Integer (atoi) 學習筆記

## 題目概述

將字串轉換成 32 位元有號整數。

### 處理步驟
1. **跳過空白**：忽略開頭的空白字元
2. **判斷正負**：檢查是否有 `+` 或 `-` 符號
3. **讀取數字**：逐一讀取數字字元，遇到非數字就停止
4. **範圍限制**：確保結果在 [-2³¹, 2³¹-1] 之間

---

## 核心概念

### 1. 索引 (Index)
字串像一排抽屜，從 0 開始編號：
```
s = "hello"
     01234

s[0] = 'h'
s[1] = 'e'
s[2] = 'l'
```

### 2. 字串方法
| 方法 | 功能 | 範例 |
|------|------|------|
| `.lstrip()` | 去掉左邊空白 | `"  hi".lstrip()` → `"hi"` |
| `.isdigit()` | 判斷是否為數字 | `'5'.isdigit()` → `True` |
| `len()` | 取得字串長度 | `len("hello")` → `5` |
| `int()` | 字元轉數字 | `int('7')` → `7` |

### 3. 數字組合技巧
將字元逐一組合成數字的公式：
```
result = result * 10 + 新數字
```

範例：組合 "1337"
```
result = 0
讀到 '1' → result = 0 * 10 + 1 = 1
讀到 '3' → result = 1 * 10 + 3 = 13
讀到 '3' → result = 13 * 10 + 3 = 133
讀到 '7' → result = 133 * 10 + 7 = 1337
```

---

## 完整程式碼

```python
class Solution(object):
    def myAtoi(self, s):
        # 步驟一：去掉開頭空白
        s_strip = s.lstrip()

        # 處理空字串
        if not len(s_strip):
            return 0 
        
        sign = 1      # 1 是正的，-1 是負的
        index = 0     # 從頭開始看的索引

        # 步驟二：判斷正負號
        if s_strip[0] == '-':
            sign = -1 
            index = index + 1
        elif s_strip[0] == '+':
            sign = 1
            index = index + 1

        # 步驟三：讀取數字
        result = 0
        while index < len(s_strip) and s_strip[index].isdigit():
            result = result * 10 + int(s_strip[index])
            index = index + 1 

        # 套用正負號
        result = result * sign
        
        # 步驟四：範圍限制
        if result < -2**31:
            return -2**31
        elif result > 2**31 - 1:
            return 2**31 - 1
        
        return result
```

---

## 程式流程圖

```
開始
  │
  ▼
去掉開頭空白 (.lstrip())
  │
  ▼
字串是空的？ ──是──► 回傳 0
  │
  否
  ▼
檢查第一個字元
  │
  ├─ 是 '-' ──► sign = -1, index + 1
  ├─ 是 '+' ──► sign = 1, index + 1
  └─ 其他 ──► 不變
  │
  ▼
┌─────────────────────────┐
│ while 迴圈              │
│ 條件：index 沒超出範圍   │
│      且 字元是數字      │
│                         │
│ result = result*10 + 數字│
│ index + 1               │
└─────────────────────────┘
  │
  ▼
result = result * sign
  │
  ▼
檢查範圍
  │
  ├─ < -2³¹ ──► 回傳 -2³¹
  ├─ > 2³¹-1 ──► 回傳 2³¹-1
  └─ 正常 ──► 回傳 result
  │
  ▼
結束
```

---

## 測試案例

| 輸入 | 輸出 | 說明 |
|------|------|------|
| `"42"` | `42` | 直接讀取數字 |
| `"   -42"` | `-42` | 跳過空白，負號 |
| `"1337c0d3"` | `1337` | 遇到 'c' 停止 |
| `"0-1"` | `0` | 遇到 '-' 停止（它不在開頭） |
| `"words and 987"` | `0` | 第一個字元就不是數字 |

---

## 學到的 Python 語法

### 條件判斷
```python
if 條件:
    做事 A
elif 條件:
    做事 B
else:
    做事 C
```

### While 迴圈
```python
while 條件:
    重複做這件事
```

### 比較運算子
| 符號 | 意思 |
|------|------|
| `==` | 等於 |
| `<` | 小於 |
| `>` | 大於 |
| `and` | 而且 |

---

## 小提醒

1. 索引從 **0** 開始，不是 1
2. 空白也是字元，佔一個位置
3. `'7'` 是字元（文字），`7` 是數字，要用 `int()` 轉換
4. 32 位元範圍：`-2147483648` 到 `2147483647`
